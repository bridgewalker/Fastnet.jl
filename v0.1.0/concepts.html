<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Key Concepts · Fastnet.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://bridgewalker.github.io/Fastnet.jl/stable/concepts.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/favicon.ico" rel="icon" type="image/x-icon"/><script src="assets/myjs.js"></script><link href="assets/mystyle.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Fastnet.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Welcome</a></li><li><a class="tocitem" href="tutorial.html">Tutorial</a></li><li class="is-active"><a class="tocitem" href="concepts.html">Key Concepts</a><ul class="internal"><li><a class="tocitem" href="#Accessing-nodes-and-links"><span>Accessing nodes and links</span></a></li><li><a class="tocitem" href="#Network-representation"><span>Network representation</span></a></li><li><a class="tocitem" href="#Slow-and-Fast-functions"><span>Slow and Fast functions</span></a></li></ul></li><li><a class="tocitem" href="reference.html">Function Reference</a></li><li><a class="tocitem" href="background.html">Background</a></li><li><a class="tocitem" href="faq.html">FAQs</a></li><li><a class="tocitem" href="customization.html">Customization</a></li><li><a class="tocitem" href="about.html">About</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="concepts.html">Key Concepts</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="concepts.html">Key Concepts</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Key-concepts"><a class="docs-heading-anchor" href="#Key-concepts">Key concepts</a><a id="Key-concepts-1"></a><a class="docs-heading-anchor-permalink" href="#Key-concepts" title="Permalink"></a></h1><h2 id="Accessing-nodes-and-links"><a class="docs-heading-anchor" href="#Accessing-nodes-and-links">Accessing nodes and links</a><a id="Accessing-nodes-and-links-1"></a><a class="docs-heading-anchor-permalink" href="#Accessing-nodes-and-links" title="Permalink"></a></h2><p>In Fastnet there are two ways to refer to a specific network node:</p><ol><li>Node ID – Every node has a unique id number that never changes. The id number may be recycled if a node is destroyed and later another node is created. All id numbers are integers between in the range 1:N, where N is the maximal node number that was passed to the FastNet constructor when the network was created. Node IDs are not necessarily consecutive so a network containing two nodes could contain the nodes with ids 17 and 23 for example. </li></ol><ol><li>Node state and position – We can also identify nodes by saying &quot;the n&#39;th node in state x&quot; where n is one of the allowed node states and x is the so-called positon in this state. So in the epidemic model from the tutorial we might say we want the first infected node. A state-position pair will not always refer to the same node, but the positions are always numbered consecutively, so if there are 2 infected node these will have the positions 1 and 2 in the infected state.</li></ol><p>In general the FastNet functions expect you to refer to nodes by node ID. However, class and position is useful for example if you want to iterate over all nodes in a certain state. You can obtain the id of a node at a certain position using the function </p><pre><code class="language-julia hljs">node(net,ste,pos)</code></pre><p>which returns the node ID for the node at position <em>pos</em> of state <em>ste</em> in the network <em>net</em>.</p><p>Links are addressed in the same way. In addition to the different link states specified in the network construction there is one additional link state that means &quot;any other link&quot;. For example if you told Fastnet to track three particular link states, these will be states number 1 to 3 and any other link will be in state number 4. The ID of a link can be found by  </p><pre><code class="language-julia hljs">link(net,ste,pos)</code></pre><p>which returns the link ID for the link at position <em>pos</em> of state <em>ste</em> in the network <em>net</em>.</p><h2 id="Network-representation"><a class="docs-heading-anchor" href="#Network-representation">Network representation</a><a id="Network-representation-1"></a><a class="docs-heading-anchor-permalink" href="#Network-representation" title="Permalink"></a></h2><p>Technical speaking the network described by Fastnet is a directed pseudograph.</p><p>We call the network a pseudograph because it is not a simple graph, i.e. it can contain self-loops and multilinks.  So there can in principle be a link that connects a node to itself and a given pair of nodes can be connected by multiple links. </p><p>The network as been implemented in this way mainly to improve the efficiency of models that should almost always remain simple graphs. Allowing the occasional multi-link or self-loop eliminates the need for constant checking if a given operation would make the graph non-simple. By contrast models that make extensive use of self-loops or multi-links are rare. As a result this feature presently remains a bit undertested, so use with caution.</p><p>In the underlying data structure of Fastnet, every link is represented as a directed link (an arc in math-speak). This comes at no addional computational or memory cost and actually makes many nuances of the implementation easier.  Nevetheless the package has been developed with undirected networks in mind and we can often simply ignore the underlying directedness of links. What this means is that Fastnet can be used to implement models that use directed links, models that use undirected (or bidirectional) links, and even models that mix the two types. </p><p>One (mildly beneficial) effect of the directed nature of links is that there is a unique way to refer to the nodes at the end of the link. They can be determined by the functions </p><pre><code class="language-julia hljs">linksrc(net,lnk)
linkdst(net,lnk)</code></pre><p>which return the node ids that are at the source and destination, respectively, of link with id <em>lnk</em> in network <em>net</em>. </p><h2 id="Slow-and-Fast-functions"><a class="docs-heading-anchor" href="#Slow-and-Fast-functions">Slow and Fast functions</a><a id="Slow-and-Fast-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Slow-and-Fast-functions" title="Permalink"></a></h2><p>In programming there is always a certain extent to which simplicity and elegance of implementation benefit both the debuggability and performance of code. In Fastnet we go beyond this point in terms of debuggability. In an attempt to provide meaningful safty checks and error messages most functions carry out some additional checks that incur a performance cost. This is great for debugging (I sinceserly hope), but if we want to run very large simulations we might wish that these extra checke were not done. For this purpose Fastnet provides an alternative implementation for many functions that forego the safty checks to achieve greater performance. </p><p>The performance optimised functions are named in the same way as their corresponding parteners with an additional _f appendend to the name. So for example the two functions </p><pre><code class="language-julia hljs">node(net,ste,pos)
node_f(net,ste,pos)</code></pre><p>behave exactly identically, except that the former one carries out the additional checks. </p><p>In Julia the names of functions that change their arguments typically end in an exclamation mark. In this case the _f goes before the exclamation mark. The functions </p><pre><code class="language-julia hljs">nodestate!(net,nde,s)
nodestate_f!(net,nde,s)</code></pre><p>which are used to change the state of the node <em>nde</em> to state <em>s</em> and an example of such a pair.  </p><p>The speedup from using the fast fucntions is not huge (ca. 20%) but it can be worthwhile in large simulation runs, especially in your <em>rates!</em> and process functions (see <a href="tutorial.html">tutorial</a>). The recommended workflow is to implement your model with the safe functions first and change some of the functions to fast versions once the code has run for a couple of times. </p><p>Calling fast functions with the wrong arguments can lead to unexpected behavior and might in rare cases crash Julia.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="tutorial.html">« Tutorial</a><a class="docs-footer-nextpage" href="reference.html">Function Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.5 on <span class="colophon-date" title="Monday 30 August 2021 08:55">Monday 30 August 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
